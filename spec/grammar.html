<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta author="Benjamin Ladick">
  <meta name="robots" content="noindex, nofollow">
  <title>Musika Grammar Definition</title>
  <link rel="stylesheet" href="grammar_style.css">
  <script src="grammar_script.js"></script>
</head>
<body>
  <h1>Musika Context-Free Grammer</h1>
  <section>
    <h2>Grammar</h2>
    <dl>
      <dt>score</dt>                <dd>NEWLINE* accompaniment BREAK NEWLINE* sheet NEWLINE*</dd>
                                    <dd>NEWLINE* sheet NEWLINE*</dd>
      <dt>accompaniment</dt>        <dd>accompany_statement NEWLINE* accompaniment</dd>
                                    <dd>accompany_statement</dd>
      <dt>accompany_statement</dt>  <dd>ACCOMPANY L_BRACKET ID R_BRACKET NAME ID</dd>
      <dt>sheet</dt>                <dd>info NEWLINE* BREAK NEWLINE* patterns NEWLINE* BREAK NEWLINE* music NEWLINE* BREAK NEWLINE*</dd>
      <dt>info</dt>                 <dd>title NEWLINE* author_define NEWLINE* music_info</dd>
                                    <dd>title NEWLINE* music_info</dd>
      <dt>music_info</dt>           <dd>key NEWLINE* time NEWLINE* tempo NEWLINE* octave</dd>
      <dt>patterns</dt>             <dd>pc_definition NEWLINE* patterns</dd>
                                    <dd>pc_definition NEWLINE*</dd>
                                    <dd>EPSILON</dd>
      <dt>music</dt>                <dd>music_element NEWLINE* music</dd>
                                    <dd>music_element</dd>
                                    <dd>EPSILON</dd>
      <dt>title</dt>                <dd>TITLE COLON STRING NEWLINE</dd>
                                    <dd>TITLE COLON ID NEWLINE</dd>
      <dt>author_define</dt>        <dd>author NEWLINE* coauthors</dd>
                                    <dd>coauthors NEWLINE* author</dd>
                                    <dd>author</dd>
      <dt>author</dt>               <dd>AUTHOR COLON STRING NEWLINE</dd>
                                    <dd>AUTHOR COLON ID NEWLINE</dd>
      <dt>coauthors</dt>            <dd>COAUTHORS COLON STRING NEWLINE</dd>
                                    <dd>AUTHOR COLON ID NEWLINE</dd>
      <dt>key</dt>                  <dd>KEY COLON SIGN NEWLINE</dd>
                                    <dd>KEY COLON ID NEWLINE</dd>
      <dt>time</dt>                 <dd>TIME COLON (KeyWord2) NEWLINE</dd>
                                    <dd>TIME COLON ID NEWLINE</dd>
                                    <dd>TIME COLON NUMBER SLASH NUMBER NEWLINE</dd>
                                    <dd>TIME COLON NUMBER NEWLINE</dd>
      <dt>tempo</dt>                <dd>TEMPO COLON NUMBER EQUAL NUMBER NEWLINE</dd>
							        <dd>TEMPO COLON NUMBER</dd>
                                    <dd>TEMPO COLON ID NEWLINE</dd>
      <dt>octave</dt>               <dd>OCTAVE COLON NUMBER NEWLINE</dd>
                                    <dd>OCTAVE COLON ID NEWLINE</dd>
      <dt>pc_definition</dt>        <dd>PATTERN L_BRACKET ID R_BRACKET COLON NEWLINE NEWLINE* music</dd>
                                    <dd>CHORD ID IS chord_type</dd>
      <dt>chord_type</dt>           <dd>NOTE octave_change</dd>
                                    <dd>NOTE octave_change SEMICOLON chord_type</dd>
      <dt>music_element</dt>        <dd>function</dd>
                                    <dd>riff</dd>
      <dt>function</dt>             <dd>repeat</dd>
                                    <dd>layer</dd>
      <dt>repeat</dt>               <dd>REPEAT L_PAREN NUMBER R_PAREN L_BRACE NEWLINE* music NEWLINE* R_BRACE</dd>
      <dt>layer</dt>                <dd>LAYER L_PAREN callback R_PAREN</dd>
      <dt>riff</dt>                 <dd>riff_element NEWLINE* riff</dd>
                                    <dd>riff_element NEWLINE*</dd>
      <dt>riff_element</dt>         <dd>NOTE octave_change dot_set</dd>
                                    <dd>callback</dd>
                                    <dd>callback dot_set</dd>
                                    <dd>CARROT NUMBER</dd>
                                    <dd>BANG key \ NEWLINE BANG</dd>
                                    <dd>BANG time \ NEWLINE BANG</dd>
                                    <dd>BANG tempo \ NEWLINE BANG</dd>
                                    <dd>BANG octave \ NEWLINE BANG</dd>
      <dt>dot_set</dt>              <dd>DOT dot_set</dd>
                                    <dd>DOT</dd>
      <dt>octave_change</dt>        <dd>( COMMA <!-- ( COMMA | APOS )* --></dd>
                                    <dd>APOS )*</dd>
      <dt>callback</dt>             <dd>ID</dd>
                                    <dd>ID GREATER ID</dd>
    </dl>
    <h2>Tokens</h2>
    <h3>Key Words</h3>
    <ul>
      <li>
        <h4>Tier 1</h4>
        <dl>
          <dt class="token">ACCOMPANY</dt> <dd>accompany</dd>
          <dt class="token">NAME</dt>      <dd>name</dd>
          <dt class="token">AUTHOR</dt>    <dd>author</dd>
          <dt class="token">COAUTHORS</dt> <dd>coauthors</dd>
          <dt class="token">TITLE</dt>     <dd>title</dd>
          <dt class="token">KEY</dt>       <dd>key</dd>
          <dt class="token">TIME</dt>      <dd>time</dd>
          <dt class="token">TEMPO</dt>     <dd>tempo</dd>
          <dt class="token">OCTAVE</dt>    <dd>octave</dd>
          <dt class="token">PATTERN</dt>   <dd>title</dd>
          <dt class="token">CHORD</dt>     <dd>chord</dd>
          <dt class="token">IS</dt>        <dd>is</dd>
        </dl>
      </li>
      <li>
        <h4>Tier 2</h4>
        <dl>
          <dt class="token">COMMON</dt> <dd>common</dd>
          <dt class="token">CUT</dt>    <dd>cut</dd>
        </dl>
      </li>
      <li>
        <h4>Tier 3</h4>
        <dl>
          <dt class="token">REPEAT</dt> <dd>repeat</dd>
          <dt class="token">LAYER</dt>  <dd>layer</dd>
        </dl>
      </li>
    </ul>
    <h3>Lexicons</h3>
    <ul>
      <li>
        <h4>Basic</h4>
        <dl>
          <dt class="token">NEWLINE</dt>	  <dd>\n</dd>
          <dt class="token">L_BRACKET</dt>	  <dd>[</dd>
          <dt class="token">R_BRACKET</dt>	  <dd>]</dd>
          <dt class="token">LETTER</dt>	      <dd>a | b | c | ... | x | y | z | A | B | C | ... | X | Y | Z</dd>
          <dt class="token">DIGIT</dt>	      <dd>0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9</dd>
          <dt class="token">UNDERSCORE</dt>	  <dd>_</dd>
          <dt class="token">DOLLAR_SIGN</dt>  <dd>$</dd>
          <dt class="token">BANG</dt>	      <dd>!</dd>
          <dt class="token">L_PAREN</dt>	  <dd>(</dd>
          <dt class="token">R_PAREN</dt>	  <dd>)</dd>
          <dt class="token">L_BRACE</dt>	  <dd>{</dd>
          <dt class="token">R_BRACE</dt>	  <dd>}</dd>
          <dt class="token">COLON</dt>	      <dd>:</dd>
          <dt class="token">SEMICOLON</dt>	  <dd>;</dd>
          <dt class="token">DOT</dt>	      <dd>.</dd>
          <dt class="token">APOS</dt>	      <dd>'</dd>
          <dt class="token">COMMA</dt>	      <dd>,</dd>
          <dt class="token">EQUAL</dt>	      <dd>=</dd>
          <dt class="token">GREATER</dt>	  <dd>></dd>
          <dt class="token">PIPE</dt>	      <dd>|</dd>
          <dt class="token">SLASH</dt>        <dd>/</dd>
          <dt class="token">CARROT</dt>       <dd>^</dd>
        </dl>
      </li>
      <li>
        <h4>Compound</h4>
        <dl>
          <dt class="token">BREAK</dt>          <dd>NEWLINE --- NEWLINE</dd>
          <dt class="token">ID</dt>             <dd>INIT_ID_CHAR ID_BODY</dd>
          <dt class="token">INIT_ID_CHAR</dt>   <dd>LETTER</dd>
                                                <dd>UNDERSCORE</dd>
                                                <dd>DOLLAR_SIGN</dd>
          <dt class="token">ID_BODY</dt>        <dd>ID_CHAR ID_BODY</dd>
                                                <dd>ID_CHAR</dd>
                                                <dd>EPSILON</dd>
          <dt class="token">ID_CHAR</dt>        <dd>NUMBER</dd>
                                                <dd>LETTER</dd>
                                                <dd>UNDERSCORE</dd>
                                                <dd>DOLLAR_SIGN</dd>
          <dt class="token">ALNUM</dt>          <dd>LETTER</dd>
                                                <dd>NUMBER</dd>
          <dt class="token">SIGN</dt>           <dd>Cmaj | Gmaj | Dmaj | Amaj | Emaj | Bmaj | F#maj | C#maj | Fmaj | Bbmaj | Ebmaj | Abmaj | Cm | Gm | Dm | Am | Em | Bm | F#m | C#m | Fm | Bbm | Ebm | Abm</dd>
          <dt class="token">NOTE</dt>           <dd>
                                                      A | B | C | D | E | F | G
                                                    | A$ | B$ | C$ | D$ | E$ | F$ | G$          <!-- natural notes -->
                                                    | A# | B# | C# | D# | E# | F# | G#          <!-- sharp notes -->
                                                    | Ab | Bb | Cb | Db | Eb | Fb | Gb          <!-- flat notes -->
                                                    | A* | B* | C* | D* | E* | F* | G*          <!-- double sharp notes -->
                                                    | Abb | Bbb | Cbb | Dbb | Ebb | Fbb | Gbb   <!-- double flat notes -->
                                                    | PIPE
                                                </dd>
          <dt class="token">STRING</dt>         <dd>QUOTE (Anything except NEWLINE and QUOTE)* QUOTE</dd>
          <dt class="token">NUMBER</dt>         <dd>DIGIT NUMBER</dd>
                                                <dd>DIGIT</dd>
        </dl>
      </li>
    </ul>
    <h2>Comments (Ignored By Lexer)</h2>
      <dl>
          <dt>Single-line comment</dt> <dd> &amp;(content)NEWLINE</dd>
          <dt>Multi-line comment</dt>  <dd>=&gt;(content NEWLINE*) &lt;=</dd>
      </dl>
  </section>
</body>
</html>
